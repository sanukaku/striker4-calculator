# Garmin STRIKER4 照射範囲計算機 仕様書

## 概要
Garmin STRIKER4魚群探知機のエコー照射範囲を計算するアプリケーション。
湖面に浮かべた魚群探知機から湖底への照射範囲を可視化。

## アプリケーション情報
- **タイトル**: Garmin STRIKER4 照射範囲計算機

## 機能仕様

### レンジ切り替え
3つのレンジモードをボタンで切り替え可能：
- **詳細モード（水深10mまで）**: 1m～10m、0.5m刻み（19段階）
- **中範囲モード（水深20mまで）**: 1m～20m、1m刻み（20段階）
- **広範囲モード（水深50mまで）**: 1m～50m、2m刻み（25段階）

### 入力パラメータ
- **水深**: 魚群探知機から湖底までの距離
  - 入力方式: 垂直スライダー
  - 操作方法:
    - ドラッグ操作（タッチ/マウス）
    - マウスホイール（PC）
  - デフォルト値: 5m（詳細モード）

### 計算パターン
水深の入力に対して、以下2つの照射角度パターンの結果を同時に表示：
- **77Hz（45度）**: 広角照射
- **200Hz（15度）**: 狭角照射

### 出力
各照射角度パターンごとに以下を表示：
- **照射範囲円の直径**: 湖底におけるエコー照射範囲の円の直径（小数点第1位まで）

## 技術仕様

### ファイル構成
- **単一ファイル構成**: index.html 1ファイルのみで完結
  - HTML、CSS、JavaScriptをすべて1つのファイルに含める
  - 外部CDNやライブラリは使用しない
  - オフラインで動作可能

### 通信仕様
- **完全オフライン動作**
  - 外部サーバーとの通信を一切行わない
  - 外部APIの呼び出しなし
  - すべての処理をローカルで完結

### 対応デバイス
- **スマートフォンファースト設計**
  - 主な使用環境はスマートフォンを想定
  - タッチ操作に最適化されたUI
  - PCとの両対応は必須ではなく、スマホでの使いやすさを優先

### UI仕様

#### レイアウト構成
- **左右2分割レイアウト**
  - 左側: 計算結果表示（77Hz上段、200Hz下段）
  - 右側: 水深選択スライダー
  - スマホでも横並びを維持

#### レンジ切り替えボタン
- 3つのボタンを横並びで配置
- アクティブなボタンは紫のグラデーション表示
- ボタンテキスト: 「水深10mまで」「水深20mまで」「水深50mまで」

#### 水深選択UI
- **縦スライダー**
  - 上部: 浅い水深
  - 下部: 深い水深（レンジにより10m/20m/50m）
  - 水をイメージした青のグラデーション背景
  - サムホイール: PC 50px、スマホ 45px
  - スライダー幅: PC 60px、スマホ 50px
  - スライダー横に「浅」「↕」「深」の表示
  - スライダー高さ: PC 300px、スマホ 250px
  - マウスホイール対応（上回し:深く、下回し:浅く）

#### 水深表示
- 「水深」ラベルを左側に配置
- メートル表示を右側に大きく表示（3rem）
- 詳細モード: 小数点第1位まで表示（例: 5.0m）
- 中範囲・広範囲モード: 整数表示（例: 10m）
- リアルタイムで更新

#### タッチ操作最適化
- touch-action: manipulation でダブルタップズーム無効化
- user-select: none でテキスト選択防止

#### レスポンシブ対応
- スマホ（480px以下）でも左右2分割を維持
- 1画面に収まるコンパクト設計
- スクロール不要

#### 初期表示
- ページ読み込み時に5mが選択され、計算結果も表示される

### 計算式
- 照射範囲円の直径 = 2 × 水深 × tan(照射角度 ÷ 2)
- 角度はラジアンに変換して計算
